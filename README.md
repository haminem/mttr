# mttr
## 使い方 (CentOS7の場合)
### 1. リポジトリをクローンする
```
$ git clone
```
### 2. リポジトリに移動する
```
$ cd mttr
```
### 3. コンパイラとパッケージマネージャをインストールする
```
$ yum install gcc
$ curl --proto '=https' --tlsv1.2 https://sh.rustup.rs -sSf | sh
```
### 4. コンパイルする
```
$ cargo build
```
### 5. 実行する
```
$ target/debug/mttr [ファイル名] [N] [m] [t]
```
### 6. 結果を確認する
結果は`result/`に出力されます
````
ttr_server.txt -> N回以上タイムアウトしている期間(設問1・設問2)
overload.txt -> m回の平均応答時間がt以上の期間(設問3)
ttr_subnet.txt -> サブネット内のすべてのサーバーがn回以上タイムアウトしている期間(設問4)
````
### 7. テストケースを変更する
```
$ vim test/test.txt
```
or
`test/`直下に`.txt`で配置する
****
## テスト
```
10000101000000,10.20.30.1/16,- <= 一度目のタイムアウトを確認
10000101000001,10.20.30.2/16,- <= サブネットのタイムアウトを確認
10000101000002,10.20.30.1/16,1
10000101000003,10.20.30.2/16,-
10000101000004,10.20.30.2/16,1
10000101000005,192.168.1.1/24,- <= 二度目のタイムアウトを確認
10000101000006,192.168.1.1/24,1
10000101000007,192.168.1.2/24,10
10000101000008,192.168.1.2/24,10
10000101000009,192.168.1.3/24,0
10000101000010,192.168.1.3/24,0
10000101000011,192.168.1.3/24,0
10000101000012,192.168.1.3/24,1000
10000101000013,192.168.1.3/24,1000
10000101000014,192.168.1.3/24,1000 <= 一度目のオーバーロードを確認
10000101000015,192.168.1.3/24,0
10000101000016,192.168.1.3/24,0
10000101000017,192.168.1.3/24,0
10000101000018,192.168.1.3/24,1000
10000101000019,192.168.1.3/24,1000
10000101000020,192.168.1.3/24,1000 <= 二度目のオーバーロードを確認